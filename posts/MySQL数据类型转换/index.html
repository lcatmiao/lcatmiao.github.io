<!DOCTYPE html>







<html lang="zh-CN"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Allow having a localized datetime different from the appearance language -->
  

  

    

    

  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="MySQL数据类型转换" />
<meta name="author" content="小黑猫" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="关于MySQL的数据类型转换问题大概两年前就研究过了，只是那时候没有发博客的习惯，笔记记得也很简单。最近又遇到了这个问题，打开以往的笔记发现记得太简单了，自己看完了还是有好多疑问😭，故有了这篇文章。 参考资料： MySQL :: MySQL 8.0 Reference Manual :: 12.11 Cast Functions and Operators MySQL :: MySQL 8.0 Reference Manual :: 12.3 Type Conversion in Expression Evaluation mysql 类型自动化转换问题 - whendream - 博客园 谈谈MySQL隐式类型转换 - 知乎 测试版本： MySQL 8.0.18 显式转换 cast() 1 CAST(expr AS type [ARRAY]) 使用该函数可以进行强制类型转换。 type： signed：signed bigint类型 char：varchar类型 float double 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # 将53.4转换为整数 mysql&gt; select cast(53.4 as signed); +----------------------+ | cast(53.4 as signed) | +----------------------+ | 53 | +----------------------+ 1 row in set (0.00 sec) # 将53.6转换为整数 mysql&gt; select cast(53.6 as signed); +----------------------+ | cast(53.6 as signed) | +----------------------+ | 54 | +----------------------+ 1 row in set (0.00 sec) # 将-53.4转换为整数 mysql&gt; select cast(-53.4 as signed); +-----------------------+ | cast(-53.4 as signed) | +-----------------------+ | -53 | +-----------------------+ 1 row in set (0.00 sec) # 将-53.6转换为整数 mysql&gt; select cast(-53.6 as signed); +-----------------------+ | cast(-53.6 as signed) | +-----------------------+ | -54 | +-----------------------+ 1 row in set (0.00 sec) # 将53.4转换为字符串 mysql&gt; select cast(53.4 as char); +--------------------+ | cast(53.4 as char) | +--------------------+ | 53.4 | +--------------------+ 1 row in set (0.00 sec) 字符串转换为数字的规则 不以数字开头的字符串会被转换为0 以数字开头的字符串会被转换成开头的那些数字 此规则也适用于隐式转换。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 将字符串qwe456转换为整数 mysql&gt; select cast(&#39;qwe456&#39; as signed); +--------------------------+ | cast(&#39;qwe456&#39; as signed) | +--------------------------+ | 0 | +--------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123qwe456转换为整数 mysql&gt; select cast(&#39;123qwe456&#39; as signed); +-----------------------------+ | cast(&#39;123qwe456&#39; as signed) | +-----------------------------+ | 123 | +-----------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为整数 mysql&gt; select cast(&#39;123.66qwe456&#39; as signed); +--------------------------------+ | cast(&#39;123.66qwe456&#39; as signed) | +--------------------------------+ | 123 | +--------------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为浮点数 mysql&gt; select cast(&#39;123.66qwe456&#39; as float); +-------------------------------+ | cast(&#39;123.66qwe456&#39; as float) | +-------------------------------+ | 123.66 | +-------------------------------+ 1 row in set, 1 warning (0.00 sec) 隐式转换 数字与字符串的相互转换 MySQL会在必要的时候将数字转换为字符串，或将字符串转换为数字。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 数字转换为字符串 mysql&gt; select concat(2, &#39;test&#39;); +-------------------+ | concat(2, &#39;test&#39;) | +-------------------+ | 2test | +-------------------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 1 + &#39;1&#39;; +---------+ | 1 + &#39;1&#39; | +---------+ | 2 | +---------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 6 &gt; &#39;3qwe&#39;; +------------+ | 6 &gt; &#39;3qwe&#39; | +------------+ | 1 | +------------+ 1 row in set, 1 warning (0.00 sec) # 字符串转换为数字 mysql&gt; select 0 = &#39;qwe345&#39;; +--------------+ | 0 = &#39;qwe345&#39; | +--------------+ | 1 | +--------------+ 1 row in set, 1 warning (0.00 sec) 第一例，concat() 需要的参数为字符串，先将数字 2 转换为字符串 &#39;2&#39; ，再将 &#39;2&#39; 与 &#39;test&#39; 进行拼接得到 &#39;2test&#39; 。 第二例，加法运算，先将字符串 &#39;1&#39; 转换为数字 1 ，再做加法得到 2 。 第三例，比较运算，先将 &#39;3qwe&#39; 转换为数字 3 ，然后 6 &gt; 3 为真，返回1。 第四例，比较运算，先将 &#39;qwe345&#39; 转换为数字 0 ，然后 0 = 0 为真，返回1。 下面是第五例的情景： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # 有表如下 mysql&gt; select * from test1; +-------+-------+-------+ | no | name | grade | +-------+-------+-------+ | 23 | admin | 50 | | 24 | admin | 43 | | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+-------+-------+ 4 rows in set (0.00 sec) # 表结构如下 mysql&gt; desc test1; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | no | varchar(50) | NO | PRI | NULL | | | name | varchar(50) | YES | | NULL | | | grade | smallint(6) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) # 执行查询如下 mysql&gt; select * from test1 where no = 25; +-------+------+-------+ | no | name | grade | +-------+------+-------+ | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+------+-------+ 2 rows in set, 1 warning (0.00 sec) 上面的情景中，执行 where no = 25 时，先看第一行，将字符串 &#39;23&#39; 转换为数字 23 ， 23 = 25 为假，不选该行；然后一样， 24 = 25 为假，不选该行；第三行，将字符串 &#39;25&#39; 转换为数字 25 ， 25 = 25 为真，选中该行；第四行，将字符串 25asd 转换为数字 25 ， 25 = 25 为真，选中该行；最后得到上面的查询结果。 总转换规则 下面的规则更详细精确，是来自官方文档的描述。 The following rules describe how conversion occurs for comparison operations: If one or both arguments are NULL, the result of the comparison is NULL, except for the NULL-safe &lt;=&gt; equality comparison operator. For NULL &lt;=&gt; NULL, the result is true. No conversion is needed. If both arguments in a comparison operation are strings, they are compared as strings. If both arguments are integers, they are compared as integers. Hexadecimal values are treated as binary strings if not compared to a number. If one of the arguments is a TIMESTAMP or DATETIME column and the other argument is a constant, the constant is converted to a timestamp before the comparison is performed. This is done to be more ODBC-friendly. This is not done for the arguments to IN(). To be safe, always use complete datetime, date, or time strings when doing comparisons. For example, to achieve best results when using BETWEEN with date or time values, use CAST() to explicitly convert the values to the desired data type. A single-row subquery from a table or tables is not considered a constant. For example, if a subquery returns an integer to be compared to a DATETIME value, the comparison is done as two integers. The integer is not converted to a temporal value. To compare the operands as DATETIME values, use CAST() to explicitly convert the subquery value to DATETIME. If one of the arguments is a decimal value, comparison depends on the other argument. The arguments are compared as decimal values if the other argument is a decimal or integer value, or as floating-point values if the other argument is a floating-point value. In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers. 复制自 mysql 类型自动化转换问题 - whendream - 博客园 的翻译： 比较运算时的类型转换规则： 如果一个或两个参数都是NULL，比较的结果是NULL，除了NULL安全的&lt;=&gt;相等比较运算符。对于NULL &lt;=&gt; NULL，结果为true。不需要转换。 如果比较操作中的两个参数都是字符串，则将它们作为字符串进行比较。 如果两个参数都是整数，则将它们作为整数进行比较。 如果不与数字进行比较，则将十六进制值视为二进制字符串。 如果其中一个参数是十进制值，则比较取决于另一个参数。 如果另一个参数是十进制或整数值，则将参数与十进制值进行比较，如果另一个参数是浮点值，则将参数与浮点值进行比较。 如果其中一个参数是TIMESTAMP或DATETIME列，另一个参数是常量，则在执行比较之前将常量转换为时间戳。 我的翻译：在所有其它情况下，参数作为浮点数（双精度）进行比较。例如，字符串和数字的比较就作为浮点数进行比较。" />
<meta property="og:description" content="关于MySQL的数据类型转换问题大概两年前就研究过了，只是那时候没有发博客的习惯，笔记记得也很简单。最近又遇到了这个问题，打开以往的笔记发现记得太简单了，自己看完了还是有好多疑问😭，故有了这篇文章。 参考资料： MySQL :: MySQL 8.0 Reference Manual :: 12.11 Cast Functions and Operators MySQL :: MySQL 8.0 Reference Manual :: 12.3 Type Conversion in Expression Evaluation mysql 类型自动化转换问题 - whendream - 博客园 谈谈MySQL隐式类型转换 - 知乎 测试版本： MySQL 8.0.18 显式转换 cast() 1 CAST(expr AS type [ARRAY]) 使用该函数可以进行强制类型转换。 type： signed：signed bigint类型 char：varchar类型 float double 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # 将53.4转换为整数 mysql&gt; select cast(53.4 as signed); +----------------------+ | cast(53.4 as signed) | +----------------------+ | 53 | +----------------------+ 1 row in set (0.00 sec) # 将53.6转换为整数 mysql&gt; select cast(53.6 as signed); +----------------------+ | cast(53.6 as signed) | +----------------------+ | 54 | +----------------------+ 1 row in set (0.00 sec) # 将-53.4转换为整数 mysql&gt; select cast(-53.4 as signed); +-----------------------+ | cast(-53.4 as signed) | +-----------------------+ | -53 | +-----------------------+ 1 row in set (0.00 sec) # 将-53.6转换为整数 mysql&gt; select cast(-53.6 as signed); +-----------------------+ | cast(-53.6 as signed) | +-----------------------+ | -54 | +-----------------------+ 1 row in set (0.00 sec) # 将53.4转换为字符串 mysql&gt; select cast(53.4 as char); +--------------------+ | cast(53.4 as char) | +--------------------+ | 53.4 | +--------------------+ 1 row in set (0.00 sec) 字符串转换为数字的规则 不以数字开头的字符串会被转换为0 以数字开头的字符串会被转换成开头的那些数字 此规则也适用于隐式转换。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 将字符串qwe456转换为整数 mysql&gt; select cast(&#39;qwe456&#39; as signed); +--------------------------+ | cast(&#39;qwe456&#39; as signed) | +--------------------------+ | 0 | +--------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123qwe456转换为整数 mysql&gt; select cast(&#39;123qwe456&#39; as signed); +-----------------------------+ | cast(&#39;123qwe456&#39; as signed) | +-----------------------------+ | 123 | +-----------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为整数 mysql&gt; select cast(&#39;123.66qwe456&#39; as signed); +--------------------------------+ | cast(&#39;123.66qwe456&#39; as signed) | +--------------------------------+ | 123 | +--------------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为浮点数 mysql&gt; select cast(&#39;123.66qwe456&#39; as float); +-------------------------------+ | cast(&#39;123.66qwe456&#39; as float) | +-------------------------------+ | 123.66 | +-------------------------------+ 1 row in set, 1 warning (0.00 sec) 隐式转换 数字与字符串的相互转换 MySQL会在必要的时候将数字转换为字符串，或将字符串转换为数字。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 数字转换为字符串 mysql&gt; select concat(2, &#39;test&#39;); +-------------------+ | concat(2, &#39;test&#39;) | +-------------------+ | 2test | +-------------------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 1 + &#39;1&#39;; +---------+ | 1 + &#39;1&#39; | +---------+ | 2 | +---------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 6 &gt; &#39;3qwe&#39;; +------------+ | 6 &gt; &#39;3qwe&#39; | +------------+ | 1 | +------------+ 1 row in set, 1 warning (0.00 sec) # 字符串转换为数字 mysql&gt; select 0 = &#39;qwe345&#39;; +--------------+ | 0 = &#39;qwe345&#39; | +--------------+ | 1 | +--------------+ 1 row in set, 1 warning (0.00 sec) 第一例，concat() 需要的参数为字符串，先将数字 2 转换为字符串 &#39;2&#39; ，再将 &#39;2&#39; 与 &#39;test&#39; 进行拼接得到 &#39;2test&#39; 。 第二例，加法运算，先将字符串 &#39;1&#39; 转换为数字 1 ，再做加法得到 2 。 第三例，比较运算，先将 &#39;3qwe&#39; 转换为数字 3 ，然后 6 &gt; 3 为真，返回1。 第四例，比较运算，先将 &#39;qwe345&#39; 转换为数字 0 ，然后 0 = 0 为真，返回1。 下面是第五例的情景： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # 有表如下 mysql&gt; select * from test1; +-------+-------+-------+ | no | name | grade | +-------+-------+-------+ | 23 | admin | 50 | | 24 | admin | 43 | | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+-------+-------+ 4 rows in set (0.00 sec) # 表结构如下 mysql&gt; desc test1; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | no | varchar(50) | NO | PRI | NULL | | | name | varchar(50) | YES | | NULL | | | grade | smallint(6) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) # 执行查询如下 mysql&gt; select * from test1 where no = 25; +-------+------+-------+ | no | name | grade | +-------+------+-------+ | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+------+-------+ 2 rows in set, 1 warning (0.00 sec) 上面的情景中，执行 where no = 25 时，先看第一行，将字符串 &#39;23&#39; 转换为数字 23 ， 23 = 25 为假，不选该行；然后一样， 24 = 25 为假，不选该行；第三行，将字符串 &#39;25&#39; 转换为数字 25 ， 25 = 25 为真，选中该行；第四行，将字符串 25asd 转换为数字 25 ， 25 = 25 为真，选中该行；最后得到上面的查询结果。 总转换规则 下面的规则更详细精确，是来自官方文档的描述。 The following rules describe how conversion occurs for comparison operations: If one or both arguments are NULL, the result of the comparison is NULL, except for the NULL-safe &lt;=&gt; equality comparison operator. For NULL &lt;=&gt; NULL, the result is true. No conversion is needed. If both arguments in a comparison operation are strings, they are compared as strings. If both arguments are integers, they are compared as integers. Hexadecimal values are treated as binary strings if not compared to a number. If one of the arguments is a TIMESTAMP or DATETIME column and the other argument is a constant, the constant is converted to a timestamp before the comparison is performed. This is done to be more ODBC-friendly. This is not done for the arguments to IN(). To be safe, always use complete datetime, date, or time strings when doing comparisons. For example, to achieve best results when using BETWEEN with date or time values, use CAST() to explicitly convert the values to the desired data type. A single-row subquery from a table or tables is not considered a constant. For example, if a subquery returns an integer to be compared to a DATETIME value, the comparison is done as two integers. The integer is not converted to a temporal value. To compare the operands as DATETIME values, use CAST() to explicitly convert the subquery value to DATETIME. If one of the arguments is a decimal value, comparison depends on the other argument. The arguments are compared as decimal values if the other argument is a decimal or integer value, or as floating-point values if the other argument is a floating-point value. In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers. 复制自 mysql 类型自动化转换问题 - whendream - 博客园 的翻译： 比较运算时的类型转换规则： 如果一个或两个参数都是NULL，比较的结果是NULL，除了NULL安全的&lt;=&gt;相等比较运算符。对于NULL &lt;=&gt; NULL，结果为true。不需要转换。 如果比较操作中的两个参数都是字符串，则将它们作为字符串进行比较。 如果两个参数都是整数，则将它们作为整数进行比较。 如果不与数字进行比较，则将十六进制值视为二进制字符串。 如果其中一个参数是十进制值，则比较取决于另一个参数。 如果另一个参数是十进制或整数值，则将参数与十进制值进行比较，如果另一个参数是浮点值，则将参数与浮点值进行比较。 如果其中一个参数是TIMESTAMP或DATETIME列，另一个参数是常量，则在执行比较之前将常量转换为时间戳。 我的翻译：在所有其它情况下，参数作为浮点数（双精度）进行比较。例如，字符串和数字的比较就作为浮点数进行比较。" />
<link rel="canonical" href="http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" />
<meta property="og:url" content="http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" />
<meta property="og:site_name" content="小黑猫" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-11T21:35:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="MySQL数据类型转换" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@小黑猫" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"},"datePublished":"2022-02-11T21:35:00+08:00","url":"http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/","description":"关于MySQL的数据类型转换问题大概两年前就研究过了，只是那时候没有发博客的习惯，笔记记得也很简单。最近又遇到了这个问题，打开以往的笔记发现记得太简单了，自己看完了还是有好多疑问😭，故有了这篇文章。 参考资料： MySQL :: MySQL 8.0 Reference Manual :: 12.11 Cast Functions and Operators MySQL :: MySQL 8.0 Reference Manual :: 12.3 Type Conversion in Expression Evaluation mysql 类型自动化转换问题 - whendream - 博客园 谈谈MySQL隐式类型转换 - 知乎 测试版本： MySQL 8.0.18 显式转换 cast() 1 CAST(expr AS type [ARRAY]) 使用该函数可以进行强制类型转换。 type： signed：signed bigint类型 char：varchar类型 float double 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # 将53.4转换为整数 mysql&gt; select cast(53.4 as signed); +----------------------+ | cast(53.4 as signed) | +----------------------+ | 53 | +----------------------+ 1 row in set (0.00 sec) # 将53.6转换为整数 mysql&gt; select cast(53.6 as signed); +----------------------+ | cast(53.6 as signed) | +----------------------+ | 54 | +----------------------+ 1 row in set (0.00 sec) # 将-53.4转换为整数 mysql&gt; select cast(-53.4 as signed); +-----------------------+ | cast(-53.4 as signed) | +-----------------------+ | -53 | +-----------------------+ 1 row in set (0.00 sec) # 将-53.6转换为整数 mysql&gt; select cast(-53.6 as signed); +-----------------------+ | cast(-53.6 as signed) | +-----------------------+ | -54 | +-----------------------+ 1 row in set (0.00 sec) # 将53.4转换为字符串 mysql&gt; select cast(53.4 as char); +--------------------+ | cast(53.4 as char) | +--------------------+ | 53.4 | +--------------------+ 1 row in set (0.00 sec) 字符串转换为数字的规则 不以数字开头的字符串会被转换为0 以数字开头的字符串会被转换成开头的那些数字 此规则也适用于隐式转换。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 将字符串qwe456转换为整数 mysql&gt; select cast(&#39;qwe456&#39; as signed); +--------------------------+ | cast(&#39;qwe456&#39; as signed) | +--------------------------+ | 0 | +--------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123qwe456转换为整数 mysql&gt; select cast(&#39;123qwe456&#39; as signed); +-----------------------------+ | cast(&#39;123qwe456&#39; as signed) | +-----------------------------+ | 123 | +-----------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为整数 mysql&gt; select cast(&#39;123.66qwe456&#39; as signed); +--------------------------------+ | cast(&#39;123.66qwe456&#39; as signed) | +--------------------------------+ | 123 | +--------------------------------+ 1 row in set, 1 warning (0.00 sec) # 将字符串123.66qwe456转换为浮点数 mysql&gt; select cast(&#39;123.66qwe456&#39; as float); +-------------------------------+ | cast(&#39;123.66qwe456&#39; as float) | +-------------------------------+ | 123.66 | +-------------------------------+ 1 row in set, 1 warning (0.00 sec) 隐式转换 数字与字符串的相互转换 MySQL会在必要的时候将数字转换为字符串，或将字符串转换为数字。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 数字转换为字符串 mysql&gt; select concat(2, &#39;test&#39;); +-------------------+ | concat(2, &#39;test&#39;) | +-------------------+ | 2test | +-------------------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 1 + &#39;1&#39;; +---------+ | 1 + &#39;1&#39; | +---------+ | 2 | +---------+ 1 row in set (0.00 sec) # 字符串转换为数字 mysql&gt; select 6 &gt; &#39;3qwe&#39;; +------------+ | 6 &gt; &#39;3qwe&#39; | +------------+ | 1 | +------------+ 1 row in set, 1 warning (0.00 sec) # 字符串转换为数字 mysql&gt; select 0 = &#39;qwe345&#39;; +--------------+ | 0 = &#39;qwe345&#39; | +--------------+ | 1 | +--------------+ 1 row in set, 1 warning (0.00 sec) 第一例，concat() 需要的参数为字符串，先将数字 2 转换为字符串 &#39;2&#39; ，再将 &#39;2&#39; 与 &#39;test&#39; 进行拼接得到 &#39;2test&#39; 。 第二例，加法运算，先将字符串 &#39;1&#39; 转换为数字 1 ，再做加法得到 2 。 第三例，比较运算，先将 &#39;3qwe&#39; 转换为数字 3 ，然后 6 &gt; 3 为真，返回1。 第四例，比较运算，先将 &#39;qwe345&#39; 转换为数字 0 ，然后 0 = 0 为真，返回1。 下面是第五例的情景： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # 有表如下 mysql&gt; select * from test1; +-------+-------+-------+ | no | name | grade | +-------+-------+-------+ | 23 | admin | 50 | | 24 | admin | 43 | | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+-------+-------+ 4 rows in set (0.00 sec) # 表结构如下 mysql&gt; desc test1; +-------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+-------+ | no | varchar(50) | NO | PRI | NULL | | | name | varchar(50) | YES | | NULL | | | grade | smallint(6) | YES | | NULL | | +-------+-------------+------+-----+---------+-------+ 3 rows in set (0.00 sec) # 执行查询如下 mysql&gt; select * from test1 where no = 25; +-------+------+-------+ | no | name | grade | +-------+------+-------+ | 25 | qwe | 54 | | 25asd | qwe | 54 | +-------+------+-------+ 2 rows in set, 1 warning (0.00 sec) 上面的情景中，执行 where no = 25 时，先看第一行，将字符串 &#39;23&#39; 转换为数字 23 ， 23 = 25 为假，不选该行；然后一样， 24 = 25 为假，不选该行；第三行，将字符串 &#39;25&#39; 转换为数字 25 ， 25 = 25 为真，选中该行；第四行，将字符串 25asd 转换为数字 25 ， 25 = 25 为真，选中该行；最后得到上面的查询结果。 总转换规则 下面的规则更详细精确，是来自官方文档的描述。 The following rules describe how conversion occurs for comparison operations: If one or both arguments are NULL, the result of the comparison is NULL, except for the NULL-safe &lt;=&gt; equality comparison operator. For NULL &lt;=&gt; NULL, the result is true. No conversion is needed. If both arguments in a comparison operation are strings, they are compared as strings. If both arguments are integers, they are compared as integers. Hexadecimal values are treated as binary strings if not compared to a number. If one of the arguments is a TIMESTAMP or DATETIME column and the other argument is a constant, the constant is converted to a timestamp before the comparison is performed. This is done to be more ODBC-friendly. This is not done for the arguments to IN(). To be safe, always use complete datetime, date, or time strings when doing comparisons. For example, to achieve best results when using BETWEEN with date or time values, use CAST() to explicitly convert the values to the desired data type. A single-row subquery from a table or tables is not considered a constant. For example, if a subquery returns an integer to be compared to a DATETIME value, the comparison is done as two integers. The integer is not converted to a temporal value. To compare the operands as DATETIME values, use CAST() to explicitly convert the subquery value to DATETIME. If one of the arguments is a decimal value, comparison depends on the other argument. The arguments are compared as decimal values if the other argument is a decimal or integer value, or as floating-point values if the other argument is a floating-point value. In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers. 复制自 mysql 类型自动化转换问题 - whendream - 博客园 的翻译： 比较运算时的类型转换规则： 如果一个或两个参数都是NULL，比较的结果是NULL，除了NULL安全的&lt;=&gt;相等比较运算符。对于NULL &lt;=&gt; NULL，结果为true。不需要转换。 如果比较操作中的两个参数都是字符串，则将它们作为字符串进行比较。 如果两个参数都是整数，则将它们作为整数进行比较。 如果不与数字进行比较，则将十六进制值视为二进制字符串。 如果其中一个参数是十进制值，则比较取决于另一个参数。 如果另一个参数是十进制或整数值，则将参数与十进制值进行比较，如果另一个参数是浮点值，则将参数与浮点值进行比较。 如果其中一个参数是TIMESTAMP或DATETIME列，另一个参数是常量，则在执行比较之前将常量转换为时间戳。 我的翻译：在所有其它情况下，参数作为浮点数（双精度）进行比较。例如，字符串和数字的比较就作为浮点数进行比较。","author":{"@type":"Person","name":"小黑猫"},"@type":"BlogPosting","headline":"MySQL数据类型转换","dateModified":"2022-02-11T21:35:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>MySQL数据类型转换 | 小黑猫
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="小黑猫">
<meta name="application-name" content="小黑猫">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <!--
  CSS selector for site.
-->

<link rel="stylesheet" href="/assets/css/style.css">


  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">



  <!-- Manific Popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">



  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

</head>


  
    <!--
  Switch the mode between dark and light.
-->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get MODE_ATTR() { return "data-mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }
    static get ID() { return "mode-toggle"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener("change", () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }

          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();

      });

    } /* constructor() */

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode
        || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage({
        direction: ModeToggle.ID,
        message: this.modeStatus
      }, "*");
    }

  } /* ModeToggle */

  const toggle = new ModeToggle();

  function flipMode() {
    if (toggle.hasMode) {
      if (toggle.isSysDarkPrefer) {
        if (toggle.isLightMode) {
          toggle.clearMode();
        } else {
          toggle.setLight();
        }

      } else {
        if (toggle.isDarkMode) {
          toggle.clearMode();
        } else {
          toggle.setDark();
        }
      }

    } else {
      if (toggle.isSysDarkPrefer) {
        toggle.setLight();
      } else {
        toggle.setDark();
      }
    }

    toggle.notify();

  } /* flipMode() */

</script>

  

  <body data-spy="scroll" data-target="#toc" data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
          
          <img src="https://img-host-lcatmiao.oss-cn-hangzhou.aliyuncs.com/202202021358647.png" alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">小黑猫</a>
    </div>
    <div class="site-subtitle font-italic">喵～</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>首页</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>分类</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>标签</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>归档</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>关于</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
      <a href="https://github.com/lcatmiao" aria-label="github"
        target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/twitter_username" aria-label="twitter"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email"
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              首页
            </a>
          </span>

        

      

        

      

        

          
            <span>MySQL数据类型转换</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      文章
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="搜索...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >取消</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        



<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-8">
    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Add attribute 'hide-bullet' to the checkbox list -->



<!-- images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      
      

      

    
      

      
      

      
      
      
      

      

    
      

      
      

      
      
      
      

      

    

    

  

  
  

  

  
  

  

  
  

  




<!-- Wrap prompt element of blockquote with the <div> tag -->







<!-- return -->







<h1 data-toc-skip>MySQL数据类型转换</h1>

<div class="post-meta text-muted">

  <!-- author -->
  <div>
    
    

    

    作者
    <em>
      
        <a href="https://github.com/lcatmiao">小黑猫</a>
      
    </em>
  </div>

  <div class="d-flex">
    <div>
      <!-- published date -->
      <span>
        发表于
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago"
    data-ts="1644586500"
    
      data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll"
    
    >
  2022-02-11
</em>

      </span>

      <!-- lastmod date -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="1968 字">
  <em>10 分钟</em>阅读</span>


      <!-- page views -->
      
    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>关于MySQL的数据类型转换问题大概两年前就研究过了，只是那时候没有发博客的习惯，笔记记得也很简单。最近又遇到了这个问题，打开以往的笔记发现记得太简单了，自己看完了还是有好多疑问😭，故有了这篇文章。</p>

<blockquote>
  <p>参考资料：</p>

  <p><a href="https://dev.mysql.com/doc/refman/8.0/en/cast-functions.html#function_cast">MySQL :: MySQL 8.0 Reference Manual :: 12.11 Cast Functions and Operators</a></p>

  <p><a href="https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html">MySQL :: MySQL 8.0 Reference Manual :: 12.3 Type Conversion in Expression Evaluation</a></p>

  <p><a href="https://www.cnblogs.com/jwentest/p/11694431.html">mysql 类型自动化转换问题 - whendream - 博客园</a></p>

  <p><a href="https://zhuanlan.zhihu.com/p/30955365">谈谈MySQL隐式类型转换 - 知乎</a></p>

  <p>测试版本：</p>

  <p>MySQL 8.0.18</p>
</blockquote>

<h1 id="显式转换">显式转换</h1>

<h2 id="cast">cast() <a href="#cast" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">CAST</span><span class="p">(</span><span class="n">expr</span> <span class="k">AS</span> <span class="k">type</span> <span class="p">[</span><span class="n">ARRAY</span><span class="p">])</span>
</pre></td></tr></tbody></table></code></div></div>

<p>使用该函数可以进行强制类型转换。</p>

<p>type：</p>

<ul>
  <li>signed：signed bigint类型</li>
  <li>char：varchar类型</li>
  <li>float</li>
  <li>double</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="err">将</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">53</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="o">|</span>                   <span class="mi">54</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                   <span class="o">-</span><span class="mi">53</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="o">-</span><span class="mi">53</span><span class="p">.</span><span class="mi">6</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="o">|</span>                   <span class="o">-</span><span class="mi">54</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span><span class="err">转换为字符串</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">char</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="mi">53</span><span class="p">.</span><span class="mi">4</span> <span class="k">as</span> <span class="nb">char</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="o">|</span> <span class="mi">53</span><span class="p">.</span><span class="mi">4</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="字符串转换为数字的规则">字符串转换为数字的规则 <a href="#字符串转换为数字的规则" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2>

<ul>
  <li>
    <p>不以数字开头的字符串会被转换为0</p>
  </li>
  <li>
    <p>以数字开头的字符串会被转换成开头的那些数字</p>
  </li>
</ul>

<p>此规则也适用于隐式转换。</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="err">将字符串</span><span class="n">qwe456</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="o">|</span>                        <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将字符串</span><span class="mi">123</span><span class="n">qwe456</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="o">|</span>                         <span class="mi">123</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-----------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将字符串</span><span class="mi">123</span><span class="p">.</span><span class="mi">66</span><span class="n">qwe456</span><span class="err">转换为整数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123.66qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">);</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123.66qwe456'</span> <span class="k">as</span> <span class="nb">signed</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="o">|</span>                            <span class="mi">123</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">将字符串</span><span class="mi">123</span><span class="p">.</span><span class="mi">66</span><span class="n">qwe456</span><span class="err">转换为浮点数</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123.66qwe456'</span> <span class="k">as</span> <span class="nb">float</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span> <span class="k">cast</span><span class="p">(</span><span class="s1">'123.66qwe456'</span> <span class="k">as</span> <span class="nb">float</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="o">|</span>                        <span class="mi">123</span><span class="p">.</span><span class="mi">66</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<h1 id="隐式转换">隐式转换</h1>

<h2 id="数字与字符串的相互转换">数字与字符串的相互转换 <a href="#数字与字符串的相互转换" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2>

<p>MySQL会在必要的时候将数字转换为字符串，或将字符串转换为数字。</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="err">数字转换为字符串</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">concat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">);</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="n">concat</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="o">|</span> <span class="mi">2</span><span class="n">test</span>             <span class="o">|</span>
<span class="o">+</span><span class="c1">-------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">字符串转换为数字</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="mi">1</span> <span class="o">+</span> <span class="s1">'1'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">+</span> <span class="s1">'1'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="o">|</span>       <span class="mi">2</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">字符串转换为数字</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="mi">6</span> <span class="o">&gt;</span> <span class="s1">'3qwe'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span> <span class="mi">6</span> <span class="o">&gt;</span> <span class="s1">'3qwe'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">字符串转换为数字</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="mi">0</span> <span class="o">=</span> <span class="s1">'qwe345'</span><span class="p">;</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">=</span> <span class="s1">'qwe345'</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">--------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>第一例，<code class="language-plaintext highlighter-rouge">concat()</code> 需要的参数为字符串，先将数字 <code class="language-plaintext highlighter-rouge">2</code> 转换为字符串 <code class="language-plaintext highlighter-rouge">'2'</code> ，再将 <code class="language-plaintext highlighter-rouge">'2'</code> 与 <code class="language-plaintext highlighter-rouge">'test'</code> 进行拼接得到 <code class="language-plaintext highlighter-rouge">'2test'</code> 。</p>

<p>第二例，加法运算，先将字符串 <code class="language-plaintext highlighter-rouge">'1'</code> 转换为数字 <code class="language-plaintext highlighter-rouge">1</code> ，再做加法得到 <code class="language-plaintext highlighter-rouge">2</code> 。</p>

<p>第三例，比较运算，先将 <code class="language-plaintext highlighter-rouge">'3qwe'</code> 转换为数字 <code class="language-plaintext highlighter-rouge">3</code> ，然后 <code class="language-plaintext highlighter-rouge">6 &gt; 3</code> 为真，返回1。</p>

<p>第四例，比较运算，先将 <code class="language-plaintext highlighter-rouge">'qwe345'</code> 转换为数字 <code class="language-plaintext highlighter-rouge">0</code> ，然后 <code class="language-plaintext highlighter-rouge">0 = 0</code> 为真，返回1。</p>

<p><br /></p>

<p>下面是第五例的情景：</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="err">有表如下</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">test1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span> <span class="k">no</span>    <span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="n">grade</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="o">|</span> <span class="mi">23</span>    <span class="o">|</span> <span class="k">admin</span> <span class="o">|</span>    <span class="mi">50</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">24</span>    <span class="o">|</span> <span class="k">admin</span> <span class="o">|</span>    <span class="mi">43</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">25</span>    <span class="o">|</span> <span class="n">qwe</span>   <span class="o">|</span>    <span class="mi">54</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">25</span><span class="n">asd</span> <span class="o">|</span> <span class="n">qwe</span>   <span class="o">|</span>    <span class="mi">54</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------+-------+</span>
<span class="mi">4</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">表结构如下</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">desc</span> <span class="n">test1</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+-------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="n">Field</span> <span class="o">|</span> <span class="k">Type</span>        <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+------+-----+---------+-------+</span>
<span class="o">|</span> <span class="k">no</span>    <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">|</span> <span class="n">grade</span> <span class="o">|</span> <span class="nb">smallint</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+-------------+------+-----+---------+-------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="o">#</span> <span class="err">执行查询如下</span>
<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">test1</span> <span class="k">where</span> <span class="k">no</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>
<span class="o">+</span><span class="c1">-------+------+-------+</span>
<span class="o">|</span> <span class="k">no</span>    <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">grade</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------+</span>
<span class="o">|</span> <span class="mi">25</span>    <span class="o">|</span> <span class="n">qwe</span>  <span class="o">|</span>    <span class="mi">54</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">25</span><span class="n">asd</span> <span class="o">|</span> <span class="n">qwe</span>  <span class="o">|</span>    <span class="mi">54</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">-------+------+-------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>上面的情景中，执行 <code class="language-plaintext highlighter-rouge">where no = 25</code> 时，先看第一行，将字符串 <code class="language-plaintext highlighter-rouge">'23'</code> 转换为数字 <code class="language-plaintext highlighter-rouge">23</code> ， <code class="language-plaintext highlighter-rouge">23 = 25</code> 为假，不选该行；然后一样， <code class="language-plaintext highlighter-rouge">24 = 25</code> 为假，不选该行；第三行，将字符串 <code class="language-plaintext highlighter-rouge">'25'</code> 转换为数字 <code class="language-plaintext highlighter-rouge">25</code> ， <code class="language-plaintext highlighter-rouge">25 = 25</code> 为真，选中该行；第四行，将字符串 <code class="language-plaintext highlighter-rouge">25asd</code> 转换为数字 <code class="language-plaintext highlighter-rouge">25</code> ， <code class="language-plaintext highlighter-rouge">25 = 25</code> 为真，选中该行；最后得到上面的查询结果。</p>

<h1 id="总转换规则">总转换规则</h1>

<p>下面的规则更详细精确，是来自官方文档的描述。</p>

<p>The following rules describe how conversion occurs for comparison operations:</p>

<ul>
  <li>
    <p>If one or both arguments are <code class="language-plaintext highlighter-rouge">NULL</code>, the result of the comparison is <code class="language-plaintext highlighter-rouge">NULL</code>, except for the <code class="language-plaintext highlighter-rouge">NULL</code>-safe <a href="https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html#operator_equal-to"><code class="language-plaintext highlighter-rouge">&lt;=&gt;</code></a> equality comparison operator. For <code class="language-plaintext highlighter-rouge">NULL &lt;=&gt; NULL</code>, the result is true. No conversion is needed.</p>
  </li>
  <li>
    <p>If both arguments in a comparison operation are strings, they are compared as strings.</p>
  </li>
  <li>
    <p>If both arguments are integers, they are compared as integers.</p>
  </li>
  <li>
    <p>Hexadecimal values are treated as binary strings if not compared to a number.</p>
  </li>
  <li>
    <p>If one of the arguments is a <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html"><code class="language-plaintext highlighter-rouge">TIMESTAMP</code></a> or <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html"><code class="language-plaintext highlighter-rouge">DATETIME</code></a> column and the other argument is a constant, the constant is converted to a timestamp before the comparison is performed. This is done to be more ODBC-friendly. This is not done for the arguments to <a href="https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html#operator_in"><code class="language-plaintext highlighter-rouge">IN()</code></a>. To be safe, always use complete datetime, date, or time strings when doing comparisons. For example, to achieve best results when using <a href="https://dev.mysql.com/doc/refman/8.0/en/comparison-operators.html#operator_between"><code class="language-plaintext highlighter-rouge">BETWEEN</code></a> with date or time values, use <a href="https://dev.mysql.com/doc/refman/8.0/en/cast-functions.html#function_cast"><code class="language-plaintext highlighter-rouge">CAST()</code></a> to explicitly convert the values to the desired data type.</p>

    <p>A single-row subquery from a table or tables is not considered a constant. For example, if a subquery returns an integer to be compared to a <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html"><code class="language-plaintext highlighter-rouge">DATETIME</code></a> value, the comparison is done as two integers. The integer is not converted to a temporal value. To compare the operands as <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html"><code class="language-plaintext highlighter-rouge">DATETIME</code></a> values, use <a href="https://dev.mysql.com/doc/refman/8.0/en/cast-functions.html#function_cast"><code class="language-plaintext highlighter-rouge">CAST()</code></a> to explicitly convert the subquery value to <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html"><code class="language-plaintext highlighter-rouge">DATETIME</code></a>.</p>
  </li>
  <li>
    <p>If one of the arguments is a decimal value, comparison depends on the other argument. The arguments are compared as decimal values if the other argument is a decimal or integer value, or as floating-point values if the other argument is a floating-point value.</p>
  </li>
  <li>
    <p>In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers.</p>
  </li>
</ul>

<p><br /></p>

<p>复制自 <a href="https://www.cnblogs.com/jwentest/p/11694431.html">mysql 类型自动化转换问题 - whendream - 博客园</a> 的翻译：</p>

<p>比较运算时的类型转换规则：</p>

<ul>
  <li>如果一个或两个参数都是NULL，比较的结果是NULL，除了NULL安全的&lt;=&gt;相等比较运算符。对于NULL &lt;=&gt; NULL，结果为true。不需要转换。</li>
  <li>如果比较操作中的两个参数都是字符串，则将它们作为字符串进行比较。</li>
  <li>如果两个参数都是整数，则将它们作为整数进行比较。</li>
  <li>如果不与数字进行比较，则将十六进制值视为二进制字符串。</li>
  <li>如果其中一个参数是十进制值，则比较取决于另一个参数。 如果另一个参数是十进制或整数值，则将参数与十进制值进行比较，如果另一个参数是浮点值，则将参数与浮点值进行比较。</li>
  <li>如果其中一个参数是TIMESTAMP或DATETIME列，另一个参数是常量，则在执行比较之前将常量转换为时间戳。</li>
  <li>我的翻译：在所有其它情况下，参数作为浮点数（双精度）进行比较。例如，字符串和数字的比较就作为浮点数进行比较。</li>
</ul>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw mr-1"></i>
    
      <a href='/categories/%E5%AD%A6%E4%B9%A0/'>学习</a>,
      <a href='/categories/sql/'>SQL</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw mr-1"></i>
      
      <a href="/tags/sql/"
          class="post-tag no-text-decoration" >SQL</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        本文由作者按照 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         进行授权

      
    </div>

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">分享</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=MySQL数据类型转换 - 小黑猫&amp;url=http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=MySQL数据类型转换 - 小黑猫&amp;u=http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://t.me/share/url?url=http://0.0.0.0:4000/posts/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/&amp;text=MySQL数据类型转换 - 小黑猫" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="分享链接"
        data-title-succeed="链接已复制！">
    </i>

  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- pannel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">热门标签</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/c-cpp/">C_Cpp</a>
    
      
      <a class="post-tag" href="/tags/git/">git</a>
    
      
      <a class="post-tag" href="/tags/jekyll/">Jekyll</a>
    
      
      <a class="post-tag" href="/tags/sql/">SQL</a>
    

    </div>
  </div>


    </div>

    
      
      



<!-- BS-toc.js will be loaded at medium priority -->
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">文章内容</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
      
        
        <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>相关文章</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1595665800"
    
    >
  2020-07-25
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>手动搭建Web服务器环境</h3>
            <div class="text-muted small">
              <p>
                





                看网上的教程大都是使用PHPStudy等集成包一键搭建的Web环境，使用集成包搭建是能省不少事，但是也少看见了很多东西，这样就不能自己安排，不喜欢这种感觉。我这里是在VM虚拟机的Win7下进行的，其它Windows系统大同小异，其实在Windows Server之类的系统上搭建应该更好。


  本文采用Apache+PHP+MySQL进行配置，版本如下：

  Apache 2.4.43
...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/%E5%8E%9F%E7%A0%81-%E5%8F%8D%E7%A0%81-%E8%A1%A5%E7%A0%81%E8%8C%83%E5%9B%B4%E5%8F%8A%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1629790800"
    
    >
  2021-08-24
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>原码、反码、补码范围及特殊情况</h3>
            <div class="text-muted small">
              <p>
                





                这篇简单的笔记是考研复习期间写的。尽管考不上了，这篇笔记还是有点价值，记录了几个特殊情况和一些个性化的理解。网上资料较为零散，这里把它们集中说了一下，不过格式比较随意，一些推导方式并不正确但是能帮助理解记忆。



一个字节：

原码：-127~+127        $-\frac{127}{128}$~$\frac{127}{128}$        $-(1-2^{-7})$~$1-2...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/git%E5%A6%82%E4%BD%95%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1643176177"
    
    >
  2022-01-26
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>git如何合并分支</h3>
            <div class="text-muted small">
              <p>
                





                复制了官网文档中对git合并过程的描述，提取了有必要记录的部分；自己测试了一些关于合并冲突的例子，做一个简要总结。


  参考资料：Git 分支 - 分支的新建与合并


合并过程

快进(fast-forward)



现在要将hotfix分支合并到master分支。

$ git checkout master
$ git merge hotfix
Updating f42c576....
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


      
        
        <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/Jekyll-Chirpy-theme-+-Github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="btn btn-outline-primary"
    prompt="上一篇">
    <p>Jekyll Chirpy theme + Github搭建个人博客</p>
  </a>
  

  
  <a href="/posts/C_Cpp%E4%B8%AD%E7%9A%84const%E5%85%B3%E9%94%AE%E5%AD%97/" class="btn btn-outline-primary"
    prompt="下一篇">
    <p>C_Cpp中的const关键字</p>
  </a>
  

</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>
</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center text-muted">
    <div class="footer-left">
      <p class="mb-0">
        © 2022
        <a href="https://github.com/lcatmiao">小黑猫</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        

        

        本站由 
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
         生成，采用 
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
         主题。

      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">热门标签</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/c-cpp/">C_Cpp</a>
    
      
      <a class="post-tag" href="/tags/git/">git</a>
    
      
      <a class="post-tag" href="/tags/jekyll/">Jekyll</a>
    
      
      <a class="post-tag" href="/tags/sql/">SQL</a>
    

    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">搜索结果为空</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup -->
  <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script>




  

  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script>





<script defer src="/assets/js/dist/post.min.js"></script>



<!-- commons -->

<script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>




  </body>

</html>

